# Copyright 1999-2014 Gentoo Foundation
# Distributed under the terms of the GNU General Public License v2
# $Header: $

EAPI=5

# ebuild generated by hackport 0.4.4.9999

CABAL_FEATURES="lib profile haddock hoogle hscolour"
inherit base haskell-cabal

DESCRIPTION="A documentation-generation tool for Haskell libraries"
HOMEPAGE="http://www.haskell.org/haddock/"
#SRC_URI="mirror://hackage/packages/archive/${PN}/${PV}/${P}.tar.gz"
SRC_URI="http://dev.gentoo.org/~gienah/snapshots/${P}.tar.gz"

LICENSE="BSD"
SLOT="0/${PV}"
KEYWORDS=""
IUSE=""

RDEPEND=">=dev-haskell/cabal-1.10:=[profile?]
	dev-haskell/ghc-paths:=[profile?]
	>=dev-haskell/haddock-library-1.2.0:=[profile?] <dev-haskell/haddock-library-1.3:=[profile?]
	>=dev-haskell/xhtml-3000.2:=[profile?] <dev-haskell/xhtml-3000.3:=[profile?]
	>=dev-lang/ghc-7.8.0:=
"
DEPEND="${RDEPEND}
	>=dev-haskell/cabal-1.10
"

PATCHES=("${FILESDIR}/${PN}-2.16.0.0.7.10.1_rc1-ghc-7.10.patch")

src_prepare() {
	base_src_prepare
	cabal_chdeps \
		'ghc == 7.9.*' 'ghc >= 7.9 && < 7.11'
}
