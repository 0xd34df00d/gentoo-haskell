--- gitit-0.10.0.2-orig/Network/Gitit/Handlers.hs	2012-12-30 14:31:49.075760351 +1100
+++ gitit-0.10.0.2/Network/Gitit/Handlers.hs	2012-12-30 14:17:43.634956481 +1100
@@ -471,9 +471,9 @@
         -> IO Html
 getDiff fs file from to = do
   rawDiff <- diff fs file from to
-  let diffLineToHtml (B, xs) = thespan << unlines xs
-      diffLineToHtml (F, xs) = thespan ! [theclass "deleted"] << unlines xs
-      diffLineToHtml (S, xs) = thespan ! [theclass "added"]   << unlines xs
+  let diffLineToHtml (Both xs ys) = thespan << (xs ++ ys)
+      diffLineToHtml (First xs) = thespan ! [theclass "deleted"] << xs
+      diffLineToHtml (Second xs) = thespan ! [theclass "added"]  << xs
   return $ h2 ! [theclass "revision"] <<
              ("Changes from " ++ fromMaybe "beginning" from ++
               " to " ++ fromMaybe "current" to) +++
