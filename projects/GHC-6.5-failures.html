<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="Docutils 0.4: http://docutils.sourceforge.net/" />
<title>Packages failing with GHC 6.5</title>
<meta name="authors" content="Lennart Kolmodin &lt;kolmodin&#64;gentoo.org&gt;  Duncan Coutts &lt;dcoutts&#64;gentoo.org&gt;  Gentoo Haskell Herd &lt;haskell&#64;gentoo.org&gt;" />
<style type="text/css">

/*
:Author: David Goodger
:Contact: goodger@users.sourceforge.net
:Date: $Date: 2005-12-18 01:56:14 +0100 (Sun, 18 Dec 2005) $
:Revision: $Revision: 4224 $
:Copyright: This stylesheet has been placed in the public domain.

Default cascading style sheet for the HTML output of Docutils.

See http://docutils.sf.net/docs/howto/html-stylesheets.html for how to
customize this style sheet.
*/

/* used to remove borders from tables and images */
.borderless, table.borderless td, table.borderless th {
  border: 0 }

table.borderless td, table.borderless th {
  /* Override padding for "table.docutils td" with "! important".
     The right padding separates the table cells. */
  padding: 0 0.5em 0 0 ! important }

.first {
  /* Override more specific margin styles with "! important". */
  margin-top: 0 ! important }

.last, .with-subtitle {
  margin-bottom: 0 ! important }

.hidden {
  display: none }

a.toc-backref {
  text-decoration: none ;
  color: black }

blockquote.epigraph {
  margin: 2em 5em ; }

dl.docutils dd {
  margin-bottom: 0.5em }

/* Uncomment (and remove this text!) to get bold-faced definition list terms
dl.docutils dt {
  font-weight: bold }
*/

div.abstract {
  margin: 2em 5em }

div.abstract p.topic-title {
  font-weight: bold ;
  text-align: center }

div.admonition, div.attention, div.caution, div.danger, div.error,
div.hint, div.important, div.note, div.tip, div.warning {
  margin: 2em ;
  border: medium outset ;
  padding: 1em }

div.admonition p.admonition-title, div.hint p.admonition-title,
div.important p.admonition-title, div.note p.admonition-title,
div.tip p.admonition-title {
  font-weight: bold ;
  font-family: sans-serif }

div.attention p.admonition-title, div.caution p.admonition-title,
div.danger p.admonition-title, div.error p.admonition-title,
div.warning p.admonition-title {
  color: red ;
  font-weight: bold ;
  font-family: sans-serif }

/* Uncomment (and remove this text!) to get reduced vertical space in
   compound paragraphs.
div.compound .compound-first, div.compound .compound-middle {
  margin-bottom: 0.5em }

div.compound .compound-last, div.compound .compound-middle {
  margin-top: 0.5em }
*/

div.dedication {
  margin: 2em 5em ;
  text-align: center ;
  font-style: italic }

div.dedication p.topic-title {
  font-weight: bold ;
  font-style: normal }

div.figure {
  margin-left: 2em ;
  margin-right: 2em }

div.footer, div.header {
  clear: both;
  font-size: smaller }

div.line-block {
  display: block ;
  margin-top: 1em ;
  margin-bottom: 1em }

div.line-block div.line-block {
  margin-top: 0 ;
  margin-bottom: 0 ;
  margin-left: 1.5em }

div.sidebar {
  margin-left: 1em ;
  border: medium outset ;
  padding: 1em ;
  background-color: #ffffee ;
  width: 40% ;
  float: right ;
  clear: right }

div.sidebar p.rubric {
  font-family: sans-serif ;
  font-size: medium }

div.system-messages {
  margin: 5em }

div.system-messages h1 {
  color: red }

div.system-message {
  border: medium outset ;
  padding: 1em }

div.system-message p.system-message-title {
  color: red ;
  font-weight: bold }

div.topic {
  margin: 2em }

h1.section-subtitle, h2.section-subtitle, h3.section-subtitle,
h4.section-subtitle, h5.section-subtitle, h6.section-subtitle {
  margin-top: 0.4em }

h1.title {
  text-align: center }

h2.subtitle {
  text-align: center }

hr.docutils {
  width: 75% }

img.align-left {
  clear: left }

img.align-right {
  clear: right }

ol.simple, ul.simple {
  margin-bottom: 1em }

ol.arabic {
  list-style: decimal }

ol.loweralpha {
  list-style: lower-alpha }

ol.upperalpha {
  list-style: upper-alpha }

ol.lowerroman {
  list-style: lower-roman }

ol.upperroman {
  list-style: upper-roman }

p.attribution {
  text-align: right ;
  margin-left: 50% }

p.caption {
  font-style: italic }

p.credits {
  font-style: italic ;
  font-size: smaller }

p.label {
  white-space: nowrap }

p.rubric {
  font-weight: bold ;
  font-size: larger ;
  color: maroon ;
  text-align: center }

p.sidebar-title {
  font-family: sans-serif ;
  font-weight: bold ;
  font-size: larger }

p.sidebar-subtitle {
  font-family: sans-serif ;
  font-weight: bold }

p.topic-title {
  font-weight: bold }

pre.address {
  margin-bottom: 0 ;
  margin-top: 0 ;
  font-family: serif ;
  font-size: 100% }

pre.literal-block, pre.doctest-block {
  margin-left: 2em ;
  margin-right: 2em ;
  background-color: #eeeeee }

span.classifier {
  font-family: sans-serif ;
  font-style: oblique }

span.classifier-delimiter {
  font-family: sans-serif ;
  font-weight: bold }

span.interpreted {
  font-family: sans-serif }

span.option {
  white-space: nowrap }

span.pre {
  white-space: pre }

span.problematic {
  color: red }

span.section-subtitle {
  /* font-size relative to parent (h1..h6 element) */
  font-size: 80% }

table.citation {
  border-left: solid 1px gray;
  margin-left: 1px }

table.docinfo {
  margin: 2em 4em }

table.docutils {
  margin-top: 0.5em ;
  margin-bottom: 0.5em }

table.footnote {
  border-left: solid 1px black;
  margin-left: 1px }

table.docutils td, table.docutils th,
table.docinfo td, table.docinfo th {
  padding-left: 0.5em ;
  padding-right: 0.5em ;
  vertical-align: top }

table.docutils th.field-name, table.docinfo th.docinfo-name {
  font-weight: bold ;
  text-align: left ;
  white-space: nowrap ;
  padding-left: 0 }

h1 tt.docutils, h2 tt.docutils, h3 tt.docutils,
h4 tt.docutils, h5 tt.docutils, h6 tt.docutils {
  font-size: 100% }

tt.docutils {
  background-color: #eeeeee }

ul.auto-toc {
  list-style-type: none }

</style>
</head>
<body>
<div class="document" id="packages-failing-with-ghc-6-5">
<h1 class="title">Packages failing with GHC 6.5</h1>
<table class="docinfo" frame="void" rules="none">
<col class="docinfo-name" />
<col class="docinfo-content" />
<tbody valign="top">
<tr><th class="docinfo-name">Authors:</th>
<td>Lennart Kolmodin &lt;kolmodin&#64;gentoo.org&gt;
<br />Duncan Coutts &lt;dcoutts&#64;gentoo.org&gt;
<br />Gentoo Haskell Herd &lt;haskell&#64;gentoo.org&gt;</td></tr>
<tr class="field"><th class="docinfo-name">Updated:</th><td class="field-body">2006-09-12</td>
</tr>
</tbody>
</table>
<div class="section">
<h1><a id="failed-packages" name="failed-packages">Failed packages</a></h1>
<p>Only the first error message is reported, as it is all I can see without
actually fixing anything :)</p>
<p>Packages I've used if not anything else mentioned:</p>
<ul class="simple">
<li>GHC 6.5.20060906</li>
<li>haddock-0.8_rc1</li>
<li>cabal-1.1.5.9.2</li>
</ul>
<p>Some haddock docs might have failed, but since cabal didn't kill the setup
if haddock barkes in 1.1.5.9.2, it has gone by unnoticed by me...</p>
<p>This issue of not noticing if haddock failed is fixed in cabal-1.1.5.9.3.</p>
<div class="section">
<h2><a id="dev-haskell-buddha-1-2" name="dev-haskell-buddha-1-2">dev-haskell/buddha-1.2</a></h2>
<pre class="literal-block">
ghc-6.5.20060906: unknown package: text
</pre>
<p>Fixed by this <em>huge</em> patch <a class="reference" href="../dev-haskell/buddha/files/buddha-1.2-ghc66.patch">../dev-haskell/buddha/files/buddha-1.2-ghc66.patch</a>.</p>
</div>
<div class="section">
<h2><a id="dev-haskell-c2hs-0-14-5" name="dev-haskell-c2hs-0-14-5">dev-haskell/c2hs-0.14.5</a></h2>
<pre class="literal-block">
c2hs/c/CLexer.x:78:34: Module `Data.Set' does not export `mkSet'
c2hs/c/CLexer.x:78:41: Module `Data.Set' does not export `addToSet'
c2hs/c/CLexer.x:78:51: Module `Data.Set' does not export `elementOf'
</pre>
<p>Now fixed with this patch <a class="reference" href="../dev-haskell/c2hs/files/c2hs-0.14.5-ghc66.patch">../dev-haskell/c2hs/files/c2hs-0.14.5-ghc66.patch</a>.</p>
</div>
<div class="section">
<h2><a id="dev-haskell-happy-1-15" name="dev-haskell-happy-1-15">dev-haskell/happy-1.15</a></h2>
<pre class="literal-block">
LALR.lhs:626:34: Not in scope: `bounds'
</pre>
<p>Now fixed with this patch <a class="reference" href="../dev-haskell/happy/files/happy-1.15-ghc66.patch">../dev-haskell/happy/files/happy-1.15-ghc66.patch</a>.</p>
</div>
<div class="section">
<h2><a id="dev-haskell-haskell-src-exts-0-2" name="dev-haskell-haskell-src-exts-0-2">dev-haskell/haskell-src-exts-0.2</a></h2>
<pre class="literal-block">
 Language/Haskell/Hsx/Lexer.hs:245:41:
  Ambiguous occurrence `isSymbol'
  It could refer to either `isSymbol', defined at Language/Haskell/Hsx/Lexer.hs:212:0
  or `isSymbol', imported from Data.Char
  at Language/Haskell/Hsx/Lexer.hs:26:0-15

(repeated 4 more times)
</pre>
<p>Now fixed with this patch <a class="reference" href="../dev-haskell/haskell-src-exts/files/haskell-src-exts-0.2-hiding-isSymbol.patch">../dev-haskell/haskell-src-exts/files/haskell-src-exts-0.2-hiding-isSymbol.patch</a>.</p>
</div>
<div class="section">
<h2><a id="dev-haskell-haxml-1-16" name="dev-haskell-haxml-1-16">dev-haskell/haxml-1.16</a></h2>
<pre class="literal-block">
src/Text/XML/HaXml/Escape.hs:57:7:
  Could not find module `Data.FiniteMap'
</pre>
<p>Now fixed by new releases of haxml-1.13.2 and haxml-1.17.</p>
</div>
<div class="section">
<h2><a id="dev-haskell-hmake-3-11" name="dev-haskell-hmake-3-11">dev-haskell/hmake-3.11</a></h2>
<pre class="literal-block">
ghc-6.5.20060906: unknown package: lang
</pre>
<p>Now fixed with this patch <a class="reference" href="../dev-haskell/hmake/files/hmake-3.11-ghc66.patch">../dev-haskell/hmake/files/hmake-3.11-ghc66.patch</a>.</p>
</div>
<div class="section">
<h2><a id="dev-haskell-hsshellscript-2-6-3" name="dev-haskell-hsshellscript-2-6-3">dev-haskell/hsshellscript-2.6.3</a></h2>
<pre class="literal-block">
ghc-6.5.20060906: unknown package: lang
</pre>
</div>
<div class="section">
<h2><a id="dev-haskell-lhs2tex-1-11" name="dev-haskell-lhs2tex-1-11">dev-haskell/lhs2tex-1.11</a></h2>
<pre class="literal-block">
/var/tmp/portage/lhs2tex-1.11/work/lhs2tex-1.11/Setup.hs:11:7:
    Could not find module `Distribution.Compat.FilePath':
          it is hidden (in package Cabal-1.1.5.9.2)
</pre>
<p>New Cabal-1.1.5.9.3 does not hide this module, but does hide Distribution.Compat.ReadP.
So we still need a patch to make it use the standard ReadP module from base.</p>
</div>
<div class="section">
<h2><a id="dev-haskell-missingh-0-14-4" name="dev-haskell-missingh-0-14-4">dev-haskell/missingh-0.14.4</a></h2>
<pre class="literal-block">
MissingH/Str.hs:47:7:
    Could not find module `Text.Regex'
</pre>
</div>
<div class="section">
<h2><a id="dev-haskell-uulib-0-9-2" name="dev-haskell-uulib-0-9-2">dev-haskell/uulib-0.9.2</a></h2>
<pre class="literal-block">
src/UU/Parsing/StateParser.hs:5:0:
    Illegal instance declaration for `InputState (inp, state) s p'
        (the Coverage Condition fails for one of the functional dependencies)
    In the instance declaration for `InputState (inp, state) s p'
</pre>
<p>This can be fixed by allowing undecidable instances, i.e. adding
UndecidableInstances to the extensions field in the .cabal file.</p>
</div>
<div class="section">
<h2><a id="dev-haskell-wxhaskell-0-9-4" name="dev-haskell-wxhaskell-0-9-4">dev-haskell/wxhaskell-0.9.4</a></h2>
<pre class="literal-block">
wx/src/Graphics/UI/WX/Types.hs:94:0:
    Bad interface file: out/wx/imports/Graphics/UI/WXCore/Types.hi
        Something is amiss; requested module
            wx:Graphics.UI.WXCore.Types differs from name found in the
            interface file wxcore:Graphics.UI.WXCore.Types
</pre>
<p>This is tricky. The wx package needs to be registered locally before anything
else can be built against it.</p>
</div>
<div class="section">
<h2><a id="dev-haskell-hsgnutls-0-2-2" name="dev-haskell-hsgnutls-0-2-2">dev-haskell/hsgnutls-0.2.2</a></h2>
<pre class="literal-block">
/var/tmp/portage/hsgnutls-0.2.2/work/hsgnutls-0.2.2/Setup.lhs:16:39:
    Couldn't match expected type `LocalBuildInfo -&gt; IO ExitCode'
           against inferred type `IO ExitCode'
    Probable cause: `testGnutlsVersion' is applied to too many arguments
    In the `postConf' field of a record
    In the expression:
        defaultUserHooks
            {postConf = testGnutlsVersion,
            postBuild = fixBuild,
            postClean = deleteExtras}
</pre>
</div>
<div class="section">
<h2><a id="dev-haskell-newbinary-0-1-r1" name="dev-haskell-newbinary-0-1-r1">dev-haskell/newbinary-0.1-r1</a></h2>
<pre class="literal-block">
cannot satisfy dependency lang-any
</pre>
</div>
<div class="section">
<h2><a id="dev-haskell-shellac-0-3" name="dev-haskell-shellac-0-3">dev-haskell/shellac-0.3</a></h2>
<pre class="literal-block">
src/System/Console/Shell/Commands.hs:171:0:
    Illegal instance declaration for `CommandFunction (Int -&gt; r) st'
        (the Coverage Condition fails for one of the functional dependencies)
    In the instance declaration for `CommandFunction (Int -&gt; r) st'

(and 7 more like it)
</pre>
</div>
</div>
<div class="section">
<h1><a id="ghc-extra-libs" name="ghc-extra-libs">GHC extra libs</a></h1>
<div class="section">
<h2><a id="dev-haskell-opengl-2-1" name="dev-haskell-opengl-2-1">dev-haskell/opengl-2.1</a></h2>
<p>Package successfully installed, but haddock chokes on a file:</p>
<pre class="literal-block">
dist/build/tmp/Graphics/Rendering/OpenGL/GL/BeginEnd.hs:&quot;dist/build/tmp/Graphics/Rendering/OpenGL/GL/BeginEnd.hs&quot;: 129:16: Parse error
</pre>
<p>Cabal patch <cite>Fri Sep  8 19:36:15 CEST 2006  Duncan Coutts &lt;remove.this.part.duncan.coutts&#64;worc.ox.ac.uk&gt;</cite> takes care of cabal not dying.</p>
<p>Problem with opengl remains though.</p>
</div>
<div class="section">
<h2><a id="dev-haskell-openal-1-3" name="dev-haskell-openal-1-3">dev-haskell/openal-1.3</a></h2>
<p>Used:</p>
<ul class="simple">
<li>GHC 6.5.20060910</li>
<li>cabal-1.1.5.9.3.</li>
</ul>
<p>Haddock chokes on Sound/OpenAL/AL/Attenuation.hs:</p>
<pre class="literal-block">
dist/build/tmp/Sound/OpenAL/AL/Attenuation.hs:&quot;dist/build/tmp/Sound/OpenAL/AL/Attenuation.hs&quot;:
207:16: Parse error
</pre>
</div>
<div class="section">
<h2><a id="dev-haskell-alut-2-0" name="dev-haskell-alut-2-0">dev-haskell/alut-2.0</a></h2>
<p>Used:</p>
<ul class="simple">
<li>GHC 6.5.20060910</li>
<li>cabal-1.1.5.9.3.</li>
</ul>
<pre class="literal-block">
dist/build/tmp/Sound/ALUT/Config.hs:&quot;dist/build/tmp/Sound/ALUT/Config.hs&quot;: 219:16: Parse error
</pre>
</div>
<div class="section">
<h2><a id="dev-haskell-xhtml-2006-8-14" name="dev-haskell-xhtml-2006-8-14">dev-haskell/xhtml-2006.8.14</a></h2>
<p>Used:</p>
<ul class="simple">
<li>GHC 6.5.20060910</li>
<li>cabal-1.1.5.9.3</li>
</ul>
<p>Haddock chokes again:</p>
<pre class="literal-block">
haddock: parse error in doc string: [TokSpecial '/',TokString &quot;www.haskell.org&quot;,TokSpecial '/']
</pre>
</div>
<div class="section">
<h2><a id="dev-haskell-hunit-1-1" name="dev-haskell-hunit-1-1">dev-haskell/hunit-1.1</a></h2>
<p>Used:</p>
<ul class="simple">
<li>GHC 6.5.20060910</li>
<li>cabal-1.1.5.9.3</li>
</ul>
<p>Haddock:</p>
<pre class="literal-block">
dist/build/tmp/Test/HUnit/Lang.hs:&quot;dist/build/tmp/Test/HUnit/Lang.hs&quot;: 69:1: Parse error
</pre>
</div>
<div class="section">
<h2><a id="dev-haskell-network-2-0" name="dev-haskell-network-2-0">dev-haskell/network-2.0</a></h2>
<p>Used:</p>
<ul class="simple">
<li>GHC 6.5.20060910</li>
<li>cabal-1.1.5.9.3</li>
</ul>
<p>Haddock:</p>
<pre class="literal-block">
dist/build/tmp/Network/Socket.hs:&quot;Network/Socket.hsc&quot;: 283:16: Parse error
</pre>
</div>
<div class="section">
<h2><a id="dev-haskell-time-1-0" name="dev-haskell-time-1-0">dev-haskell/time-1.0</a></h2>
<p>Used:</p>
<ul class="simple">
<li>GHC 6.5.20060910</li>
<li>cabal-1.1.5.9.3</li>
</ul>
<pre class="literal-block">
ghc-6.5.20060910: does not exist: cbits/cbits/HsTime.c
</pre>
</div>
</div>
<div class="section">
<h1><a id="untested-packages" name="untested-packages">Untested packages</a></h1>
<ul class="simple">
<li>cabal-get (obsolete)</li>
<li>fps (included in base)</li>
<li>gh (requires uuagc/uulib)</li>
<li>hackage-client (requires haxml)</li>
<li>haxr (requires haxml)</li>
<li>shellac-readline (requires shellac)</li>
<li>trhsx (requires haskell-src-exts)</li>
<li>hsp-darcs (requires haskell-src-exts)</li>
<li>hspr-darcs (requires haskell-src-exts)</li>
</ul>
<!-- vim: tw=76 ts=2 : -->
</div>
</div>
</body>
</html>
