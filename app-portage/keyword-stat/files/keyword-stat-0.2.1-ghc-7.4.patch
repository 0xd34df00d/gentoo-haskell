This patch will fix wrong behavior on ghc-7.4.
See http://hackage.haskell.org/trac/ghc/ticket/4958
Tested on: ghc-7.4.1 and ghc-7.0.4


--- Main.hs
+++ Main.hs
@@ -1,3 +1,4 @@
+{-# LANGUAGE CPP #-}
 module Main ( main ) where
 
 --import qualified Data.ByteString as B
@@ -7,7 +8,11 @@
 import Data.List as L
 import Control.Applicative
 import Control.Monad
+#if __GLASGOW_HASKELL__>=704
+import System.Environment
+#else
 import System
+#endif
 import System.Directory
 import System.FilePath ( splitDirectories )
 import System.IO.Unsafe ( unsafeInterleaveIO )
--- keyword-stat.cabal
+++ keyword-stat.cabal
@@ -7,9 +7,12 @@
 -- license-file:        LICENSE
 author:              Lennart Kolmodin
 maintainer:          Lennart Kolmodin <kolmodin@gentoo.org>
-build-Depends:       base, directory, haskell98, pcre-light, filepath
 build-type:          Simple
-
-executable:          keyword-stat
-main-is:             Main.hs
-ghc-options:         -Wall
+cabal-version:       >= 1.2
+   
+executable          keyword-stat
+  build-depends:       base,directory, pcre-light, filepath
+  if impl( ghc < 7.4)
+    build-depends:     haskell98
+  main-is:             Main.hs
+  ghc-options:         -Wall
